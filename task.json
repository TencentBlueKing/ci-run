{
  "atomCode": "run",
  "defaultLocaleLanguage": "en_US",
  "execution": {
    "packagePath": "run-jar-with-dependencies.jar",
    "language": "java",
    "runtimeVersion": "17",
    "demands": [],
    "target": "java -jar run-jar-with-dependencies.jar"
  },
  "releaseInfo": {
    "projectId": "demo",
    "name": "RunScript",
    "language": "java",
    "logoUrl": "${{indexFile(\"logo.png\")}}",
    "category": "TASK",
    "classifyCode": "compileBuild",
    "jobType": "AGENT",
    "os": [
      "LINUX",
      "MACOS",
      "WINDOWS"
    ],
    "labelCodes": [

    ],
    "summary": "Execute the script plugin. Support cross-system use.",
    "description": "${{indexFile(\"README_EN.md\")}}",
    "configInfo": {
      "frontendType": "NORMAL"
    },
    "versionInfo": {
      "publisher": "BlueKing",
      "releaseType": "NEW",
      "version": "1.0.0",
      "versionContent": "init"
    }
  },
  "input": {
    "shell": {
      "rule": {},
      "type": "enum-input",
      "label": "Set script type",
      "desc": "Set the script type. By default, Windows executes Batch. Linux and Macos execute Shell.",
      "required": false,
      "hidden": false,
      "component": "enum-input",
      "list": [
        {
          "value": "auto",
          "label": "DEFAULT"
        },{
          "value": "bash",
          "label": "BASH"
        },
        {
          "value": "cmd",
          "label": "CMD"
        },
        {
          "value": "pwsh",
          "label": "POWERSHELL_CORE"
        },
        {
          "value": "powershell",
          "label": "POWERSHELL_DESKTOP"
        },
        {
          "value": "python",
          "label": "PYTHON3"
        },
        {
          "value": "sh",
          "label": "SH"
        },
        {
          "value": "python-official",
          "label": "PYTHON"
        },
        {
          "value": "manual",
          "label": "Flexible mode"
        }
      ],
      "default": "auto"
    },"manualDesc": {
      "label": "",
      "type": "tips",
      "tipStr": "Flexible mode allows custom startup commands to support more flexible addition of command startup parameters<br>Note that:<br>①The plug-in script file will replace random_name.xx in the command, please make sure that this part of the command meets the format requirements<br>②Flexible mode does not support built-in functions: for example, format_multiple_lines<br><br><table> <tr> <th>Startup command</th> <th>Operating system</th> <th>Commonly used expandable parameters for commands</th> </tr> <tr> <td>random_name.sh</td> <td>Linux/MacOS </td> <td>-e (enable interpreter extensions), -x (display executed commands)</td> </tr> <tr> <td>pwsh -command \"random_name.ps1\"</td> <td>Linux/Windows/MacOS</td> <td>-NoProfile (do not load user profile), -ExecutionPolicy Bypass (bypass execution policy)</td> </tr> <tr> <td>python3 random_name.py</td> <td>Linux/Windows/MacOS</td> <td>-O (optimize generated bytecode), -m (run library module as script)</td> </tr><tr> <td>py random_name.py</td> <td>Linux/Windows/MacOS</td> <td>-2 (execute with python2), -3 (execute with python3)</td> </tr> <tr> <td>sh random_name.sh</td> <td>Linux/MacOS</td> <td>-c (read command from string), -s (read command from standard input)</td> </tr> <tr> <td>cmd.exe /C random_name.bat</td> <td>Windows</td> <td>/Q (turn off echo), /V (enable delayed environment variable expansion)</td> </tr> <tr> <td>powershell -command random_name.ps1</td> <td>Windows</td> <td>-NoProfile (do not load user profile), -ExecutionPolicy Bypass (bypass execution policy)</td> </tr> <tr> <td>ruby random_name.rb</td> <td>Linux/Windows/MacOS</td> <td>-w (enable warnings), -d (enable debug mode)</td> </tr> <tr> <td>perl random_name.pl</td> <td>Linux/Windows/MacOS</td> <td>-w (enable warnings), -d (enable debug mode)</td> </tr> <tr> <td>node random_name.js</td> <td>Linux/Windows/MacOS</td> <td>--inspect (enable debugging), --max-old-space-size (set memory limit)</td> </tr> <tr> <td>More...</td> <td>Linux/Windows/MacOS</td> <td>More...</td> </tr> </table>",
      "rely": {
        "operation": "AND",
        "expression": [
          {
            "key": "shell",
            "value": "manual"
          }
        ]
      }
    },"manualCommand": {
      "label": "",
      "default": "",
      "placeholder": "Please enter the startup command and parameters",
      "type": "vuex-input",
      "desc": "",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "rely": {
        "operation": "AND",
        "expression": [
          {
            "key": "shell",
            "value": "manual"
          }
        ]
      }
    },
    "script": {
      "label": "Script",
      "default": "",
      "placeholder": "Please enter script",
      "type": "atom-ace-editor",
      "desc": "Please enter script",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "charsetType": {
      "rule": {},
      "type": "enum-input",
      "label": "Charset type under windows",
      "desc": "windows only",
      "required": false,
      "hidden": false,
      "component": "enum-input",
      "list": [
        {
          "value": "DEFAULT",
          "label": "DEFAULT"
        },
        {
          "value": "UTF_8",
          "label": "UTF-8"
        },
        {
          "value": "GBK",
          "label": "GBK"
        }
      ],
      "default": "DEFAULT"
    }
  }
}
